<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1" name="viewport" /><title>Padrino - Padrino 0.9.27 - Project settings, routing, compatibility and bug fixes</title><link href="../../images/favicons/apple-touch-icon-57x57-75d6516e.png" rel="apple-touch-icon" sizes="57x57" /><link href="../../images/favicons/apple-touch-icon-60x60-76221479.png" rel="apple-touch-icon" sizes="60x60" /><link href="../../images/favicons/apple-touch-icon-72x72-7bd96522.png" rel="apple-touch-icon" sizes="72x72" /><link href="../../images/favicons/apple-touch-icon-76x76-30739e4d.png" rel="apple-touch-icon" sizes="76x76" /><link href="../../images/favicons/apple-touch-icon-114x114-1b1963ee.png" rel="apple-touch-icon" sizes="114x114" /><link href="../../images/favicons/apple-touch-icon-144x144-b3992622.png" rel="apple-touch-icon" sizes="144x144" /><link href="../../images/favicons/apple-touch-icon-152x152-48259d13.png" rel="apple-touch-icon" sizes="152x152" /><link href="../../images/favicons/apple-touch-icon-180x180-b8e9ebf6.png" rel="apple-touch-icon" sizes="180x180" /><link href="../../images/favicons/favicon-32x32-c7d41b6f.png" rel="icon" sizes="32x32" type="image/png" /><link href="../../images/favicons/favicon-194x194-a2b53f7f.png" rel="icon" sizes="194x194" type="image/png" /><link href="../../images/favicons/favicon-96x96-1f5cec29.png" rel="icon" sizes="96x96" type="image/png" /><link href="../../images/favicons/android-chrome-192x192-a15741d5.png" rel="icon" sizes="192x192" type="image/png" /><link href="../../images/favicons/favicon-16x16-609a9b93.png" rel="icon" sizes="16x16" type="image/png" /><link href="/images/favicons/manifest.json" rel="manifest" /><link color="#5bbad5" href="../../images/favicons/safari-pinned-tab-a188e924.svg" rel="mask-icon" /><link href="../../images/favicons/favicon.ico" rel="shortcut icon" /><meta content="#da532c" name="msapplication-TileColor" /><meta content="../../images/favicons/mstile-144x144-c2018144.png" name="msapplication-TileImage" /><meta content="/images/favicons/browserconfig.xml" name="msapplication-config" /><meta content="#ffffff" name="theme-color" /><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><link href="../../assets/stylesheets/all-2fbb5fe1.css" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.0/anchor.min.js"></script><script src="../../assets/javascripts/all-956a861e.js"></script><link href="http://padrinorb.com/blog.rss" rel="alternate" title="Blog - Padrino Ruby Web Framework" type="application/rss+xml" /></head><body class="blog blog_padrino-0-9-27-project-settings-routing-compatibility-and-bug-fixes blog_padrino-0-9-27-project-settings-routing-compatibility-and-bug-fixes_index"><div class="grid"><header class="header"><h1 class="header__name"><a href="/" class="padrino-name">Padrino</a></h1><div class="header__navigation"><nav class="navigation"><a class="navigation__toggler" href="#" id="navigation__toggler"><span class="navigation__toggler__icon fa fa-navicon"></span></a><ul class="navigation__items" id="navigation__items"><li class="navigation__item"><a href="/" class="navigation__link">Overview</a></li><li class="navigation__item"><a href="/guides/" class="navigation__link">Guides</a></li><li class="navigation__item"><a href="/blog/" class="navigation__link--is-active">Blog</a></li><li class="navigation__item"><a href="http://www.rubydoc.info/github/padrino/padrino-framework" class="navigation__link">API</a></li><li class="navigation__item"><a href="/contribute/" class="navigation__link">Contribute</a></li><li class="navigation__item"><a href="https://github.com/padrino/padrino-framework" class="navigation__link"><span class="button--slim">GitHub</span></a></li></ul></nav></div></header><div class="page"><div class="page__sidebar"><div class="sidebar"><h4 class="sidebar__header--first">Blog</h4><h5 class="sidebar__header">Latest Posts</h5><ul class="sidebar__items"><li class="sidebar__item"><a href="/blog/story-behind-padrino-logo/" class="sidebar__link">Story behind the Padrino logo</a></li><li class="sidebar__item"><a href="/blog/gitter/" class="sidebar__link">Gitter chat window</a></li><li class="sidebar__item"><a href="/blog/padrino-0-14-4/" class="sidebar__link">Padrino 0.14.4 release</a></li><li class="sidebar__item"><a href="/blog/padrino-0-14-3/" class="sidebar__link">Padrino 0.14.3 release</a></li><li class="sidebar__item"><a href="/blog/padrino-0-14-2/" class="sidebar__link">Padrino 0.14.2 release</a></li><li class="sidebar__item"><a href="/blog/padrino-0-14-1/" class="sidebar__link">Padrino 0.14.1 release</a></li><li class="sidebar__item"><a href="/blog/padrino-0-14-0-2/" class="sidebar__link">Padrino 0.14.0.2 - small bug fixes</a></li></ul></div></div><div class="page__content"><div class="content"><div class="article"><h1 class="article__title">Padrino 0.9.27 - Project settings, routing, compatibility and bug fixes</h1><p class="article__metadata">Posted on May 06, 2011 by DAddYE | categories: <a href="/category/ruby/">ruby,</a> <a href="/category/update/">update</a></p><p>Today, we released a new version of Padrino bringing us to 0.9.27. This release is only a week after our last hotfix release because we wanted to keep up the speed as we approach our 0.10.0 release that will coincide with the Sinatra 1.3 release.</p>

<p>We have also significantly improved our release processes as we approach 1.0 and now the continuous integration measures we put in place run all of our tests on every ruby version, a set of <a href="https://github.com/padrino/padrino-integration">elaborate integration tests</a> as well as <a href="https://github.com/DAddYE/web-frameworks-benchmark/tree/more_advanced">full web benchmarks</a> to measure our requests per second versus other ruby frameworks.</p>

<p>This release is primarily compatibility and bug fixes but also contains a few new features involving project-wide settings, reverse route recognition, and offline and test generation updates. Details of the features and fixes are below.</p>

<p>If you want to hear more about Padrino, <a href="http://rubiverse.com/podcasts/10-nathan-esquenazi-on-padrino">a podcast</a> was recently released on Rubiverse.</p>
<h2 id="project-wide-settings">Project-wide Settings</h2>
<p>In this release, we have added the notion of ‘project’ settings that are inherited by every Padrino application within the project. This can be used to set any properties but is particularly useful for sharing sessions across your apps. These project-wide settings are intended to live in <code>config/apps.rb</code> and are generated in every new application.</p>
<div class="highlight"><pre class="syntax plaintext"><code># config/apps.rb
# Set the global project settings for your apps.
# These settings are inherited by your subapps.
# You can override these settings in each of your sub apps.
Padrino.configure_apps do
  enable :sessions
  set :foo, "bar"
end
</code></pre></div>
<p>Using this is optional and you can override these settings on a per-app basis as well. Commits are <a href="https://github.com/padrino/padrino-framework/commit/3b04e489ff7477ab28fbca2ded503f3efdde77f3">here</a>, <a href="https://github.com/padrino/padrino-framework/commit/0825b6bf9ae337f5860a3a3cfe5662b646927f03">here</a>, and <a href="https://github.com/padrino/padrino-framework/commit/99033a8a368eb9942daf6b5af174857bd38948e6">here</a>.</p>
<h2 id="reverse-route-recognition">Reverse Route Recognition</h2>
<p>We have occasionally had the need to access the current route from within a template in order to create links or determine the current page.</p>

<p>Given we have a route such as</p>
<div class="highlight"><pre class="syntax plaintext"><code># controllers.rb
controller :some do
  get :other, :map =&gt; "/custom/url/with-:foo" do; end
end
</code></pre></div>
<p>We have added the ability to recognize a url and retrieve the route:</p>
<div class="highlight"><pre class="syntax plaintext"><code># my_view.haml
url(:some, :other, :foo =&gt; :bar)
# =&gt; /custom/url/with-bar
</code></pre></div>
<p>We have also added the ability to get the current page:</p>
<div class="highlight"><pre class="syntax plaintext"><code># in a path like /posts/?search=bar&amp;name=foo
= link_to "Sort by Name", current_path("sort" =&gt; :name)
= link_to "Sort by Date", current_path("sort" =&gt; :date)
</code></pre></div>
<p>Commits for this are <a href="https://github.com/padrino/padrino-framework/commit/c0b23620e08917928fd445b27575ddae3fbfb494">here</a> and <a href="https://github.com/padrino/padrino-framework/commit/221ae9f53fd3e9603c9acf2d22f18b08b3d00ba6">here</a>.</p>
<h2 id="compatibility-fixes">Compatibility Fixes</h2>
<ul>
<li>Upgrade to Sinatra 1.2.6 dependency from 1.2.4 by default</li>
<li>Make logger Sinatra 1.3 compatible <a href="https://github.com/padrino/padrino-framework/commit/1ea322e3c74d2c15fac1a67d208670f544984d9b">commit</a></li>
<li>SCSS needs to rely on ‘sass’ gem instead of ‘haml’ <a href="https://github.com/padrino/padrino-framework/commit/a7758e62e6acdb4cd6f5e00d89595d79f4b01607">commit</a></li>
<li>Use CouchRest::Model in favor of deprecated CouchRest::ExtendedDocument. Thanks to Burgestrand! <a href="https://github.com/padrino/padrino-framework/commit/8fc910e7fa6dbf41f06cb5a14d97a8988ad6d699">commit</a></li>
<li>Use the sqlite3 gem as dependency for generated projects <a href="https://github.com/padrino/padrino-framework/commit/8e7ea0081a68bc0ffedc186f62c131835d17124d">commit</a></li>
<li>Use SecureRandom to generate session secret <a href="https://github.com/padrino/padrino-framework/commit/7770883d3b486342070eb159ab57ffda0f7206e5">commit</a></li>
<li>Partials can now be used directly with Sinatra from Padrino::Helpers <a href="https://github.com/padrino/padrino-framework/commit/0507fe3910beea2bf268d9ca746349099c35415a">commit</a>, <a href="https://gist.github.com/956825">example</a></li>
<li>Adds MongoMapper rake task for dropping the database <a href="https://github.com/padrino/padrino-framework/commit/0a9eaae1d3aff47954836bebcd5ae21f74c9a7b2">commit</a></li>
</ul>
<h2 id="bug-fixes">Bug Fixes</h2>
<ul>
<li>Fix YAML by using ‘syck’ to parse by default <a href="https://github.com/padrino/padrino-framework/commit/a3bc92488b96bc34c3ab6d34498c5ebdeef006b0">commit</a></li>
<li>Fix to slim template in admin for destroy session <a href="https://github.com/padrino/padrino-framework/commit/5ebf0292ca8a974910d587a7b5c2a0203eac56a6">commit</a></li>
<li>Offline generation of static js <a href="https://github.com/padrino/padrino-framework/commit/e2069fe19cc5c02ee27620157eedd519555adcb9">commit</a></li>
</ul>
<h2>Contribute</h2><p><Slimconsumes>Please report any issues you encounter with this release! We are working very actively on Padrino and want to make the framework as stable and reliable as possible. That concludes the changelog for this release. As always if you want to keep up with Padrino updates, be sure to follow us on twitter: <a href="https://twitter.com/padrinorb">@padrinorb</a>, join us on IRC at “#padrino” on freenode, <a href="https://github.com/padrino/padrino-framework/issues">open an issue</a>, or discuss on <a href="https://gitter.im/padrino/padrino-framework">gitter</a>.</Slimconsumes></p><hr /></div><div id='disqus_thread'></div>
<script type='text/javascript'>
//<![CDATA[
                  var disqus_shortname = 'padrinorb';
          
    (function() {
      if (typeof(DISQUS) === 'undefined') {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      } else {
        DISQUS.reset({
          reload: true,
          config: function () {
            this.page.identifier = document.title;
            this.page.url = location.href;
          }
        });
      }
    })();
//]]>
</script>
<noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript>
<a href='http://disqus.com' class='dsq-brlink'>comments powered by <span class='logo-disqus'>Disqus</span></a>
</div></div></div><hr /><footer class="footer"><p>Padrino is released under the MIT LICENSE<br/>
Hosting by <a href="https://pages.github.com" title="GitHub Pages">GitHub Pages</a><br/>
Logo design by <a href="https://www.unpolo.com/" title="unpolo">unpolo</a></p>
<script>anchors.add('').remove('.sidebar h4, .sidebar h5, .header h1');
  ((window.gitter = {}).chat = {}).options = {
    room: 'padrino/padrino-framework'
  };</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script></footer></div></body></html>